{"mappings":"YACA,IAAMA,EAAS,wECIa,IAAtBC,EAAcC,SAASC,cAAc,iBACrCC,EAASF,SAASC,cAAc,WAChCE,EAAQH,SAASC,cAAc,UAC/BG,EAAUJ,SAASC,cAAc,aAeR,SAAtBI,IACPF,EAAMG,UAAUC,IAAI,O,CAIO,SAApBC,IACPL,EAAMG,UAAUG,OAAO,O,CAIQ,SAAxBC,EAAsBC,GAC7BZ,EAAYa,SAAWD,EACvBP,EAAQS,MAAMC,QAAUH,EAAU,OAAS,QAC3CT,EAAOW,MAAMC,QAAUH,EAAU,QAAU,M,CA+BrC,SAACI,IACPX,EAAQY,UAAY,E,CAwCajB,EAAvBkB,iBAAiB,UApCG,WAC9B,IDpD8BC,EACxBC,ECmDAC,EAAkBrB,EAAYsB,MAEhCD,GACFV,GAAsB,GACtBK,IACAP,KDzD4BU,EC2DZE,ED1DZD,EAAM,wDAAgEG,OAARJ,GAE7DK,MAAMJ,EAAK,CAChBK,QAAS,CACP,YAAa1B,KAGhB2B,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,KCgDfL,MAAK,SAAAM,GAEJ,IAAMC,EAAUD,EAAK,GACfE,EAAQD,EAAQE,OAAO,GAO7B,MANgB,CACdC,KAAMF,EAAME,KACZC,YAAaH,EAAMG,YACnBC,YAAaJ,EAAMI,YACnBC,MAAON,EAAQb,I,IAIhBM,MAAK,SAAAc,IApCgB,SAAPA,GACnBnC,EAAQY,UAAY,mBAEUM,OADhBiB,EAAYD,MAAM,wDAEKhB,OADPiB,EAAYJ,KAAK,+CAEVb,OADAiB,EAAYH,YAAY,+CACAd,OAAxBiB,EAAYF,YAAY,W,CAgCvDG,CAAYD,GACZ7B,GAAsB,E,IAEvB+B,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZrC,IACAK,GAAsB,E,KAG1BK,G,IAQiDL,GAA/B,GDxGba,MAFK,sCAEM,CAChBC,QAAS,CACP,YAAa1B,KAGd2B,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,ICkGlBL,MAAK,SAAAM,G,OAAQA,EAAKc,KAAI,SAAAZ,G,MAAU,CAAEa,GAAIb,EAAMa,GAAIX,KAAMF,EAAME,K,OAC5DV,MAAK,SAAAS,GACLnC,EAAYc,MAAMC,QAAU,QA5Ef,SAAaoB,GAC5BA,EAAOa,SAAQ,SAAAd,GACb,IAAMe,EAAShD,SAASiD,cAAc,UACtCD,EAAO3B,MAAQY,EAAMa,GACrBE,EAAOE,YAAcjB,EAAME,KAC3BpC,EAAYoD,YAAYH,E,IAIS,IAA7BI,WAAW,CACbC,OAAQtD,EACRuD,YAAY,EACZC,YAAa,gB,CAiEfC,CAAqBtB,GACrBxB,GAAsB,E,IAEvB+B,OAAM,SAACgB,GACNd,QAAQC,IAAIa,GACZpD,IACAK,GAAsB,E,IAI1BF,G","sources":["src/js/cat-api.js","src/js/index.js"],"sourcesContent":["\nconst apiKey = 'live_vYSva83dHL8GYNk8EPgGthjAdesgckJfiD6lnAlRCYww2yWap9JNTGgEM9fXfx3J';\n\n// Функція для виконання HTTP-запиту і повернення промісу з масивом порід\nexport function fetchBreeds() {\n  const url = 'https://api.thecatapi.com/v1/breeds';\n\n  return fetch(url, {\n    headers: {\n      'x-api-key': apiKey,\n    },\n  })\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n}\n\n// Функція для виконання HTTP-запиту і повернення промісу з даними про кота\nexport function fetchCatByBreed(breedId) {\n  const url = `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`;\n\n  return fetch(url, {\n    headers: {\n      'x-api-key': apiKey,\n    },\n  })\n  .then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  })\n}\n\n\n\n\n","\n// import SlimSelect from 'slim-select'\nimport { fetchBreeds, fetchCatByBreed } from './cat-api';\n\n// Отримуємо посилання на HTML-елементи\nconst breedSelect = document.querySelector('.breed-select');\nconst loader = document.querySelector('.loader');\nconst error = document.querySelector('.error');\nconst catInfo = document.querySelector('.cat-info');\n\n// Дописати приховування селекту\n\n// Показуємо loader\nfunction showLoader() {\n  loader.style.display = 'block';\n}\n\n// Ховаємо loader\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\n\n// Показуємо повідомлення про помилку\nfunction showError() {\n  error.classList.add('show');\n}\n\n// Ховаємо повідомлення про помилку\nfunction hideError() {\n  error.classList.remove('show');\n}\n\n// Показуємо/ховаємо елементи при запиті\nfunction toggleLoadingElements(loading) {\n  breedSelect.disabled = loading;\n  catInfo.style.display = loading ? 'none' : 'block';\n  loader.style.display = loading ? 'block' : 'none';\n}\n\n// Заповнюємо select.breed-select опціями\nfunction populateBreedsSelect(breeds) {\n  breeds.forEach(breed => {\n    const option = document.createElement('option');\n    option.value = breed.id;\n    option.textContent = breed.name;\n    breedSelect.appendChild(option);\n  });\n\n  // Ініціалізуємо SlimSelect для стилізації селекта\n    new SlimSelect({\n      select: breedSelect,\n      showSearch: false,\n      placeholder: 'Select Breed'\n    });\n  }\n\n// Заповнюємо div.cat-info інформацією про кота\nfunction showCatInfo(catInfoData) {\n  catInfo.innerHTML = `\n    <img src=\"${catInfoData.image}\" alt=\"Cat Image\" />\n    <p><strong>Name:</strong> ${catInfoData.name}</p>\n    <p><strong>Description:</strong> ${catInfoData.description}</p>\n    <p><strong>Temperament:</strong> ${catInfoData.temperament}</p>\n  `;\n}\n\n// Очищуємо div.cat-info\nfunction clearCatInfo() {\n  catInfo.innerHTML = '';\n}\n\n// Обробник події вибору опції в селекті\nfunction onBreedSelectChange() {\n  const selectedBreedId = breedSelect.value;\n\n  if (selectedBreedId) {\n    toggleLoadingElements(true);\n    clearCatInfo();\n    hideError();\n\n    fetchCatByBreed(selectedBreedId)\n    .then(data => {\n      // debugger\n      const catData = data[0];\n      const breed = catData.breeds[0];\n      const catInfo = {\n        name: breed.name,\n        description: breed.description,\n        temperament: breed.temperament,\n        image: catData.url,\n      };\n      return catInfo;\n    })\n      .then(catInfoData => {\n        showCatInfo(catInfoData);\n        toggleLoadingElements(false);\n      })\n      .catch((error) => {\n        console.log(error)\n        showError();\n        toggleLoadingElements(false);\n      });\n  } else {\n    clearCatInfo();\n  }\n}\n\n// Встановлюємо обробник події для селекту\nbreedSelect.addEventListener('change', onBreedSelectChange);\n\n// Запускаємо отримання списку порід при завантаженні сторінки\ntoggleLoadingElements(true);\n\nfetchBreeds()\n   .then(data => data.map(breed => ({ id: breed.id, name: breed.name })))\n   .then(breeds => {\n    breedSelect.style.display = 'block'\n    populateBreedsSelect(breeds);\n    toggleLoadingElements(false);\n  })\n  .catch((error) => {\n    console.log(error)\n    showError();\n    toggleLoadingElements(false);\n  });\n\n// Приховуємо елемент p.error при завантаженні сторінки\nhideError()\n"],"names":["$8994e83c1b13b9e2$var$apiKey","$44ae6d9db4eaca0f$var$breedSelect","document","querySelector","$44ae6d9db4eaca0f$var$loader","$44ae6d9db4eaca0f$var$error","$44ae6d9db4eaca0f$var$catInfo","$44ae6d9db4eaca0f$var$showError","classList","add","$44ae6d9db4eaca0f$var$hideError","remove","$44ae6d9db4eaca0f$var$toggleLoadingElements","loading","disabled","style","display","$44ae6d9db4eaca0f$var$clearCatInfo","innerHTML","addEventListener","breedId","url","selectedBreedId","value","concat","fetch","headers","then","response","ok","Error","status","json","data","catData","breed","breeds","name","description","temperament","image","catInfoData","$44ae6d9db4eaca0f$var$showCatInfo","catch","error1","console","log","map","id","forEach","option","createElement","textContent","appendChild","SlimSelect","select","showSearch","placeholder","$44ae6d9db4eaca0f$var$populateBreedsSelect","error2"],"version":3,"file":"index.ab157e4b.js.map"}